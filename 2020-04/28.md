# 锻炼

早上：每组开合跳 30s、深蹲 30s、弓箭步 30s、提膝下压 30s，中途休息一分钟左右，做 6 组。

# 学习 浏览器工作原理与实践

## 04 | 导航流程：从输入 URL 到页面展示，这中间发生了什么？

从输入 URL 到页面展示完整流程示意图:

![avatar](../image/urlToPage.png)

### 从输入 URL 到页面展示

1. 用户输入  
   地址栏中输入一个查询关键字时，地址栏会判断输入的关键字是搜索内容，还是请求的 URL。如果是搜索内容，地址栏会使用浏览器默认的搜索引擎，来合成新的带搜索关键字的 URL。如果判断输入内容符合 URL 规则，就把把这段内容加上协议，合成为完整的 URL。
2. URL 请求过程  
   浏览器进程会通过进程间通信（IPC）把 URL 请求发送至网络进程，网络进程接收到 URL 请求后，会在这里发起真正的 URL 请求流程。

   （1）、网络进程会查找本地缓存是否缓存了该资源，有缓存资源，那么直接返回资源给浏览器进程；如果在缓存中没有查找到资源，那么直接进入网络请求流程；

   （2）、利用 IP 地址和服务器建立 TCP 连接，连接建立之后，浏览器会构建请求行、请求头等信息，并把和该域名相关的 Cookie 等数据附加到请求头中，然后向服务器发送构建的请求信息。

   （3）、服务器接收到请求信息后，解析响应头和响应体等信息，然后返回相应结果。

3. 准备渲染进程  
   打开一个新页面采用的渲染进程策略：

   （1）、通常情况下，打开新的页面都会使用单独的渲染进程；

   （2）、如果新建页面和之前已有页面属于同一站点，那就复用之前页面的渲染进程（同一站点只有一个渲染进程）

4. 提交文档（URL 请求的响应体数据）

   把响应数据提交给渲染进程

5. 渲染阶段（下一节详细讲解）
