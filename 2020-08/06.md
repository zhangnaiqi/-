# 学习 《重构——改善既有代码的设计》

## 第 6 章 第一组重构

### 6.1 提炼函数

#### 动机

1. 只要被不止一次的使用的代码，就应该放入一个函数；
2. 如果需要花一段时间浏览才能弄清一段代码是干什么的，那就应该将其提炼到一个函数中，并根据它所做的事为其命名；

#### 做法

1. 创造一个新函数，根据这个函数的意图来对它命名（以它‘做什么’来命名，而不是‘怎么做’命名）
2. 将待提炼代码从源函数复制到新建的目标函数中；
3. 检查新函数中是否引用到源函数中的局部变量。如果有，通过参数传递到新函数；
4. 编译；
5. 在源函数中，将被提炼的代码替换为新函数调用；
6. 测试
7. 查看其它代码是否有与被替换代码相同或相似之处。如果有，考虑以函数调用取代内联代码。
