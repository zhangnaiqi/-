# 学习 《重构——改善既有代码的设计》

## 第 2 章 重构原则（55~55）

### 重构的挑战

修改接口：

1. 对于已经发布的接口需要可能需要维护旧接口和新接口，用 deprecated（已弃用） 修饰旧接口；
2. 不发布新接口，在旧接口中调用新接口；
3. 假如新接口抛出编译时异常，那么可以在旧接口中调用新接口并将编译时异常转化为运行时异常；

何时不重构：

1. 重构之前，代码必须能够在大部分情况下正常运行，不然就不应该重构，而应该是重写；
2. 到了 Deadline（截止日期），应该避免重构。通常意味着你错过了早该进行重构的时间；

### 重构与设计

1. 重构与设计是彼此互补的；
2. 预先设计是必须，预先设计不可能做到完全正确，随着对问题的逐渐深入，通过重构可以改善程序的质量；
3. 重构减轻了设计的难度和压力，在程序不断修改的过程逐步完善程序的设计；

### 重构与性能

1. 重构是有可能导致程序运行变慢的；
2. 编写快速软件的秘诀是：首先写出可调的程序，然后调整它以达到足够的速度；
3. 性能优化放在开发的后期，通过分析工具找出消耗大量时间空间的地方，然后集中精力优化这些地方；
